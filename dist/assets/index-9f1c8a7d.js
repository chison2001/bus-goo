import{V as A,r as f,p as B}from"./VForm-91111467.js";import{d as P,r as i,j as S,d3 as j,w as g,o as H,f as O,e as r,b as t,t as w,m as o,b8 as d,bd as Q,ah as U,aQ as x}from"./index-8f404a99.js";import{_ as D}from"./AppCombobox.vue_vue_type_script_setup_true_lang-b238dc7f.js";import{_ as L}from"./AppTextField.vue_vue_type_script_setup_true_lang-28c8d330.js";import{$ as F}from"./api-2c00ed98.js";import{b as M,a as X,V as z}from"./VCard-7472a958.js";import{V as E,a as n}from"./VRow-78dd9d6f.js";import{V as G}from"./VCardText-55737145.js";import"./VInput-a9fd18de.js";import"./VImg-0a711975.js";import"./forwardRefs-6ea3df5c.js";import"./filter-55513ba0.js";import"./VTextField-223228ac.js";import"./VField-23e2b48a.js";import"./VList-e70f133a.js";import"./VAvatar-3e62277b.js";import"./VDivider-94f30ef1.js";import"./VOverlay-025f4234.js";import"./lazy-4d6bd754.js";import"./VMenu-2ddf8f39.js";import"./VCheckboxBtn-7a64e6e7.js";import"./VSelectionControl-d4c1b6ee.js";import"./VChip-ab435abd.js";const he=P({__name:"index",async setup(J){let N,_;const h=i(!1),V=i(),v=i(""),c=i(""),m=i(),p=i(),b=i(),q=i([]),y=i([]),C=i([]),R=S(),$=async()=>{const l=(await F("api/user/create",{method:"POST",data:{fullName:v.value,phone:c.value,regeionDetailId:b.value.value}})).data;console.log(l.respType==="200"),l.respType===200&&R.replace("/user/list")},k=()=>{var a;(a=V.value)==null||a.validate().then(({valid:l})=>{l&&($(),x(()=>{var u,s;(u=V.value)==null||u.reset(),(s=V.value)==null||s.resetValidation()}))})};async function T(a,l){const s=(await F("/api/region/find",{method:"POST",data:{parentId:a,regionStructureId:l}})).data.valueReponse.data;console.log(s.map(e=>({value:e.id,title:e.fullName}))),l===1&&(q.value=s.map(e=>({value:e.id,title:e.fullName}))),l===2&&(y.value=s.map(e=>({value:e.id,title:e.fullName}))),l===3&&(C.value=s.map(e=>({value:e.id,title:e.fullName}))),console.log(y.value)}return[N,_]=j(()=>T(null,1)),await N,_(),g(m,()=>T(m.value.value,2)),g(p,()=>T(p.value.value,3)),(a,l)=>{const u=L,s=D;return H(),O(z,{class:"pa-sm-8 pa-5"},{default:r(()=>[t(X,{class:"text-center"},{default:r(()=>[t(M,{class:"text-h3 mb-3"},{default:r(()=>[w(" Thêm thông tin người dùng ")]),_:1})]),_:1}),t(G,null,{default:r(()=>[t(o(A),{ref_key:"refForm",ref:V,modelValue:o(h),"onUpdate:modelValue":l[5]||(l[5]=e=>d(h)?h.value=e:null),onSubmit:Q(k,["prevent"])},{default:r(()=>[t(E,null,{default:r(()=>[t(n,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:o(v),"onUpdate:modelValue":l[0]||(l[0]=e=>d(v)?v.value=e:null),rules:["requiredValidator"in a?a.requiredValidator:o(f)],label:a.$t("Họ và tên"),placeholder:"Lê Chí Sơn"},null,8,["modelValue","rules","label"])]),_:1}),t(n,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:o(c),"onUpdate:modelValue":l[1]||(l[1]=e=>d(c)?c.value=e:null),type:"number",rules:["requiredValidator"in a?a.requiredValidator:o(f),"phoneNumberValidator"in a?a.phoneNumberValidator:o(B)],label:"Số điện thoại",placeholder:"0347829036"},null,8,["modelValue","rules"])]),_:1}),t(n,{cols:"12",md:"6"},{default:r(()=>[t(s,{modelValue:o(m),"onUpdate:modelValue":l[2]||(l[2]=e=>d(m)?m.value=e:null),items:o(q),label:"Tỉnh/Thành phố",rules:["requiredValidator"in a?a.requiredValidator:o(f)]},null,8,["modelValue","items","rules"])]),_:1}),t(n,{cols:"12",md:"6"},{default:r(()=>[t(s,{modelValue:o(p),"onUpdate:modelValue":l[3]||(l[3]=e=>d(p)?p.value=e:null),items:o(y),label:"Quận/Huyện",rules:["requiredValidator"in a?a.requiredValidator:o(f)]},null,8,["modelValue","items","rules"])]),_:1}),t(n,{cols:"12",md:"6"},{default:r(()=>[t(s,{modelValue:o(b),"onUpdate:modelValue":l[4]||(l[4]=e=>d(b)?b.value=e:null),items:o(C),label:"Phường/Xã",rules:["requiredValidator"in a?a.requiredValidator:o(f)]},null,8,["modelValue","items","rules"])]),_:1}),t(n,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:r(()=>[t(U,{type:"submit",class:"me-3"},{default:r(()=>[w(" Thêm ")]),_:1}),t(U,{type:"reset",variant:"outlined",color:"secondary",to:"list"},{default:r(()=>[w(" Trở lại ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});export{he as default};
